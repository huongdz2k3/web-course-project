{% extends 'app/base.html' %}
{% load static %}
{% block js %}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="{% static 'quiz/style.css' %}">
{% endblock %}
{% block title %}
Quizz - {{quiz.topic}}
{% endblock %}
{% block content %}

<section class="ftco-section">
    <div class="container" id="quiz">
        <hr>
        <div style="display: flex; justify-content: flex-end;">
            <div class="sticky-timer" id="timer-box" style="background-color: #A2D9CE; border: 1px solid #4A8F9F; border-radius: 5px;"></div>
        </div>
        <div class="row">
            <div class="col">
                <h1 class="text-center" style="color: #2471A3; font-weight: bold; font-size: 50px">{{quiz.topic}}</h1>
                <h4 class="text-center" style="color: #28B463; font-weight: bold">Score to pass:
                    {{quiz.require_passing_score}}</h4>
            </div>
        </div>

        <form id="quiz-form" form="mt-3 mb-3">
            {% csrf_token %}
            <div id='quiz-box'>
            </div>
            <div class="text-center">
                <button id="submitBtn" type="submit" class="btn btn-primary mt-3">Submit Answers</button>
            </div>
        </form>
        <br>
        <div class="" id="answer-box"></div>
        <div class="" id="score-box"></div>
        <div class="" id="result-box"></div>
        <div class="" id="button-box"></div>
    </div>

    <br>
</section>

<script type="text/javascript">
    const onConfirmRefresh = function (event) {
        event.preventDefault();
        event.returnValue = "Are you sure you want to leave the page?";
    };

    window.addEventListener("beforeunload", onConfirmRefresh, { capture: true });
</script>
<style>
    .sticky-timer {
        position: fixed;
        top: 150px; /* Adjust the desired distance from the top */
        z-index: 10000000;
        float: right !important;
    }

    /* Other styles for your timer, if needed */
</style>
<script type="text/javascript" src="{% static 'quiz/takes_quizzes.js' %}"></script>
<script src="{% static 'quiz/jquery.min.js' %}"></script>
<script src="{% static 'quiz/popper.js' %}"></script>
<script src="{% static 'quiz/bootstrap.min.js' %}"></script>
<script src="{% static 'quiz/main.js' %}"></script>
{% endblock %}